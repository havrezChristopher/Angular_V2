<!-- Le formulaire est lié à loginForm défini dans le composant TypeScript. 
     ngSubmit appelle la méthode login() lorsque le formulaire est soumis. -->
<form [formGroup]="loginForm" (ngSubmit)="login()">
  <div>
    <!-- Label et champ de saisie pour l'email. 
             'formControlName' associe ce champ au contrôle du formulaire dans le composant. -->
    <label for="email">Email:</label>
    <input type="email" id="email" formControlName="emailUtilisateur" />

    <!-- Affiche des messages d'erreur si les conditions de validation de l'email ne sont pas remplies. -->
    <div *ngIf="
        loginForm.get('emailUtilisateur')?.invalid &&
        loginForm.get('emailUtilisateur')?.touched
      ">
      <span *ngIf="loginForm.get('emailUtilisateur')?.errors?.['required']">Adresse email Obligatoir !.</span>
      <span *ngIf="loginForm.get('emailUtilisateur')?.errors?.['emailUtilisateur']">Adresse email Obligatoir !</span>
    </div>
  </div>
  <div>
    <!-- Label et champ de saisie pour le mot de passe. -->
    <label for="password">Password:</label>
    <input type="password" id="password" formControlName="motsDePasse" />

    <!-- Affiche un message d'erreur si le champ du mot de passe est vide. -->
    <div *ngIf="
        loginForm.get('motsDePasse')?.invalid &&
        loginForm.get('motsDePasse')?.touched
      ">
      <!-- ici avec AbstraContol on verifie et on crée les message erreur aproprier -->
      <span *ngIf="loginForm.get('motsDePasse')?.errors?.['required']">Mots de passe Obligatoir</span>
      <span *ngIf="loginForm.get('motsDePasse')?.errors?.['motsDePasse']">Mots de passe Obligatoir</span>
    </div>
  </div>

  <button type="submit" [disabled]="loginForm.invalid">Login</button>

  <!-- Affiche un message d'erreur si la tentative de connexion échoue avec si message erreur du back existe -->
  <div *ngIf="errorMessage">{{ errorMessage }}</div>
</form>